# Use H2 in-memory database with a random name to avoid conflicts across test runs
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# JWT Configuration
app.jwt-secret=test-jwt-secret-key-for-unit-tests-only
app.jwt-expiration-milliseconds=3600000

# Admin password for test
app.admin-user-password=admin123

# Allow bean definition overriding for testing
spring.main.allow-bean-definition-overriding=true

# Disable security auto configuration
spring.security.user.name=testuser
spring.security.user.password=testpass

# Reduce logging to make test output cleaner
logging.level.root=WARN
logging.level.org.springframework=ERROR
logging.level.org.hibernate=ERROR
logging.level.com.tunelar=INFO

# Set fixed name for test app
spring.application.name=tunelar-test